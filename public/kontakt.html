<!doctype html>
<html class="no-js" lang=""></html>

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title> Chata Harmonie </title>
  
  <!-- Internal CSS styles -->
  <style>
    .imr {
      height: 400px;
    }
  </style>

  <link rel="stylesheet" href="../css/output.css">
  <meta name="description" content="">

  <meta property="og:title" content="">
  <meta property="og:type" content="">
  <meta property="og:url" content="">
  <meta property="og:image" content="">
  <meta property="og:image:alt" content="">

  <link rel="icon" href="/favicon.ico" sizes="any">
  <link rel="icon" href="/icon.svg" type="image/svg+xml">
  <link rel="apple-touch-icon" href="../icon.png">

  <link rel="manifest" href="../site.webmanifest">
  <meta name="theme-color" content="#fafafa">

  <script src="./components/js/utils.js"></script>
  <script type="module">
    // Import only starts the initialization process defined in languageManager.js
    import "./js/languageManager.js";
    // DO NOT call languageManager here directly, it might not be ready.

    // This function will run AFTER the DOM is ready AND the language manager is initialized
    async function initializePage() {
        // Ensure languageManager is initialized (it sets window.languageManager when done)
        // We might need a way to wait for it, or trust DOMContentLoaded is late enough *if* 
        // languageManager initialization also starts on DOMContentLoaded.
        // Let's assume for now that DOMContentLoaded in this script runs after 
        // the one in languageManager.js has set window.languageManager.
        // A more robust solution might involve custom events or promises.

        if (!window.languageManager) {
            console.error("Language manager not initialized yet!");
            // Optionally, wait a bit and retry, or implement a Promise-based wait
            await new Promise(resolve => setTimeout(resolve, 100)); // Simple wait
            if (!window.languageManager) {
                console.error("Language manager still not initialized after wait!");
                return;
            }
        }

        // Load components AFTER language manager should be ready
        await loadComponent('header', 'header');
        await loadComponent('footer', 'footer');

        // Set header color based on page needs
        const header = document.querySelector('header');
        if (header) {
            header.setAttribute('data-header-color', 'dark'); // or 'light'
        }

        // Map Consent Logic (already inside DOMContentLoaded, should be fine)
        const acceptButton = document.getElementById('accept-map-cookies');
        const mapPlaceholder = document.getElementById('map-consent-placeholder');
        const mapContainer = document.getElementById('map-container');
        const mapConsentGiven = localStorage.getItem('mapConsentGiven');

        if (mapConsentGiven === 'true') {
            if (mapPlaceholder) mapPlaceholder.classList.add('hidden');
            if (mapContainer) mapContainer.classList.remove('hidden');
        } else {
            // Ensure placeholder is shown if consent not given
            if (mapPlaceholder) mapPlaceholder.classList.remove('hidden');
             if (mapContainer) mapContainer.classList.add('hidden');
        }

        if (acceptButton && mapPlaceholder && mapContainer) {
            acceptButton.addEventListener('click', () => {
                mapPlaceholder.classList.add('hidden');
                mapContainer.classList.remove('hidden');
                localStorage.setItem('mapConsentGiven', 'true'); // Remember consent
                // Re-apply translations *after* structure change
                if (window.languageManager) {
                    window.languageManager.updateContent(); 
                }
            });
        }
        
        // Initial content update for this specific page after components are loaded
        // This ensures translations are applied to static content and newly loaded components.
        if (window.languageManager) {
            window.languageManager.updateContent();
        } else {
             console.error("Cannot update content, language manager not available.");
        }
    }

    // Run the initialization function when the DOM is ready
    document.addEventListener('DOMContentLoaded', initializePage);
  </script>
  <!--  <script src="../js/priceSheets.js" defer></script>-->
</head>

<body>

  <div id="header"></div>

  <main class="box-border px-4 md:px-10">

    <section class="mb-10 md:mb-20">
      <h2 class="mt-6 mb-4 md:mb-10 text-3xl md:text-4xl" data-i18n="contact.title"> 
        Kontakt 
      </h2>

      <div class="flex flex-col md:flex-row flex-wrap justify-between">

        <div class="w-full md:w-1/3 text-base md:text-xl mb-6 md:mb-0">
          <div class="flex flex-col md:h-[500px] md:justify-between w-full">
            <div>
              <p class="mb-2 md:mb-5 underline text-xl">E-mail</p>
              <p>harmonie-bedrichov@centrum.cz</p>
              <br>
            </div>
            <div>
              <p class="mb-2 md:mb-5 underline text-xl" data-i18n="contact.telephone">
                Telefon
              </p>
              <p>+420 606 601 142</p>
              <br>
            </div>
            <div>
              <p class="mb-2 md:mb-5 underline text-xl" data-i18n="contact.address">
                Adresa
              </p>
              <p>
                Liana Lenzová <br>
                Bedřichov 38 <br>
                468 12 Bedřichov u Jablonce nad Nisou <br>
                Česká republika <br>
                <br>
              </p>
            </div>
            <div>
              <p class="mb-2 md:mb-5 underline text-xl">
                IČO
              </p>
              <p>
                764 587 33
              </p>
              <br>
            </div>
          </div>
        </div>

        <div id="map-parent" class="w-full md:w-2/3 md:h-[500px] aspect-square relative">
          <div id="map-consent-placeholder" class="absolute inset-0 bg-[#0A0A21] text-white flex flex-col justify-center items-center p-4 text-center z-10">
              <p class="mb-4 text-xl max-w-xl" data-i18n="contact.map.consentText">Abychom vám mohli zobrazit mapu, musíme načíst obsah od Google Maps, který může nastavovat cookies. Kliknutím na tlačítko níže souhlasíte s jejich použitím.</p>
              <button id="accept-map-cookies" class="px-4 py-2 border border-white hover:bg-white hover:text-gray-800" data-i18n="contact.map.acceptButton">Přijmout</button>
          </div>
          <div id="map-container" class="w-full h-full hidden">
            <iframe
                src="https://www.google.com/maps/embed?pb=!1m14!1m8!1m3!1d2522.375837544153!2d15.153113!3d50.787143!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x47093325965a25d7%3A0x5705800649917e26!2sChata%20Harmonie%20Bed%C5%99ichov!5e0!3m2!1scs!2sus!4v1738222212077!5m2!1scs!2sus"
                class="w-full h-full"
                style="border:0;"
                allowfullscreen=""
                loading="lazy"
                referrerpolicy="no-referrer-when-downgrade">
            </iframe>
          </div>
        </div>
      </div>
    </section>

    <div id="footer"></div>

  </main>
</body>
</html>
