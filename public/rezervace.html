<!DOCTYPE html>
<html class="no-js" lang="">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Chata Harmonie</title>

  <!-- Internal CSS styles -->
  <style>
    .reservation-form {
      max-width: 650px;
      margin: 0;
      padding: 20px 0;
    }

    .form-row {
      display: flex;
      margin-bottom: 25px;
    }

    .form-column {
      flex: 1;
      padding-right: 30px;
    }

    .form-column:last-child {
      padding-right: 0;
    }

    .form-group {
      margin-bottom: 20px;
    }

    .form-group label {
      display: block;
      margin-bottom: 8px;
      font-size: 24px;
      text-decoration: underline;
    }

    .form-group input,
    .form-group select,
    .form-group textarea {
      width: 100%;
      padding: 8px;
      border: 1px solid #000;
      border-radius: 0;
      background-color: transparent;
      box-sizing: border-box;
      outline: none;
    }

    .form-group textarea {
      resize: vertical;
      min-height: 120px;
    }

    .captcha-button {
      background-color: #10162b;
      color: white;
      padding: 15px 20px;
      border: none;
      width: 100px;
      text-align: center;
      display: inline-block;
      cursor: pointer;
      margin-top: 10px;
    }

    .consent-group {
      display: flex;
      align-items: flex-start;
      font-size: 20px;
      margin: 30px 0;
    }

    .consent-group input[type="checkbox"] {
      margin-left: 10px;
      width: 30px;
      height: 30px;
      cursor: pointer;
      background-color: transparent;
      -webkit-appearance: none;
      appearance: none;
      border: 1px solid #000;
      position: relative;
    }
    
    .consent-group input[type="checkbox"]:checked::after {
      content: "✓";
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      font-size: 20px;
    }

    .submit-button {
      background-color: #10162b;
      color: white;
      padding: 10px 30px;
      border: none;
      cursor: pointer;
      text-align: center;
      display: block;
      margin-top: 10px;
    }

    .privacy-notice {
      margin: 15px 0;
    }
  </style>

  <link rel="stylesheet" href="../css/output.css" />
  <meta name="description" content="" />

  <meta property="og:title" content="" />
  <meta property="og:type" content="" />
  <meta property="og:url" content="" />
  <meta property="og:image" content="" />
  <meta property="og:image:alt" content="" />

  <link rel="icon" href="/favicon.ico" sizes="any" />
  <link rel="icon" href="/icon.svg" type="image/svg+xml" />
  <link rel="apple-touch-icon" href="../icon.png" />

  <link rel="manifest" href="../site.webmanifest" />
  <meta name="theme-color" content="#fafafa" />

  <!-- Google reCAPTCHA API -->
  <script src="https://www.google.com/recaptcha/api.js" async defer></script>

  <script src="./components/js/utils.js"></script>
  <script type="module">
    import "./js/languageManager.js";
    window.languageManager.updateContent();

    document.addEventListener("DOMContentLoaded", async () => {
      await loadComponent("header", "header");
      await loadComponent("footer", "footer");

      // Set header color based on page needs
      const header = document.querySelector("header");
      header.setAttribute("data-header-color", "dark"); // or 'light'
      
      // // Form validation with reCAPTCHA
      // const form = document.getElementById('reservationForm');
      // const captchaError = document.querySelector('.captcha-error');
      
      // if (form) {
      //   form.addEventListener('submit', function(event) {
      //     // Verify reCAPTCHA
      //     const recaptchaResponse = grecaptcha.getResponse();
          
      //     if (!recaptchaResponse) {
      //       event.preventDefault();
      //       captchaError.style.display = 'block';
      //       return false;
      //     }
          
      //     // Hide error message if captcha is completed
      //     captchaError.style.display = 'none';
      //     return true;
      //   });
      // }
    });
  </script>

  <script>
    // Set min date for arrival and departure to today
    document.addEventListener('DOMContentLoaded', function() {
      const today = new Date().toISOString().split('T')[0];
      document.getElementById('arrival').setAttribute('min', today);
      document.getElementById('departure').setAttribute('min', today);
      
      // Update departure min date when arrival date changes
      document.getElementById('arrival').addEventListener('change', function() {
        document.getElementById('departure').setAttribute('min', this.value);
        
        // If departure date is before new arrival date, update it
        const departureInput = document.getElementById('departure');
        if (departureInput.value && departureInput.value < this.value) {
          departureInput.value = this.value;
        }
      });
    });
  </script>
  <!--  <script src="../js/priceSheets.js" defer></script>-->
</head>

<body>
  <div id="header"></div>

  <main class="box-border px-10">
    <section class="mb-40">
      <h2 class="my-10 text-5xl bold" data-i18n="reservation.title">
        Rezervace
      </h2>

      <form 
        action="https://formsubmit.co/michalstrnad18@seznam.cz" 
        method="POST" 
        class="reservation-form" 
        id="reservationForm"
      >

        <input type="hidden" name="_subject" value="Nová rezervace">
        <input type="hidden" name="_next" value="https://strnadmichal.github.io/harmonie/public/">
        <input type="hidden" name="_template" value="table">

        <div class="form-row">
          <div class="form-column">
            <div class="form-group">
              <label for="firstname" data-i18n="reservation.firstname">Jméno</label>
              <input type="text" id="firstname" name="firstname" required />
            </div>
          </div>

          <div class="form-column">
            <div class="form-group">
              <label for="lastname" data-i18n="reservation.lastname">Příjmení</label>
              <input type="text" id="lastname" name="lastname" required />
            </div>
          </div>
        </div>

        <div class="form-row">
          <div class="form-column">
            <div class="form-group">
              <label for="phone" data-i18n="reservation.phone">Telefon</label>
              <input type="tel" id="phone" name="phone" required />
            </div>
          </div>

          <div class="form-column">
            <div class="form-group">
              <label for="email" data-i18n="reservation.email">Email</label>
              <input type="email" id="email" name="email" required />
            </div>
          </div>
        </div>

        <div class="form-row">
          <div class="form-column">
            <div class="form-group">
              <label for="adults" data-i18n="reservation.adults">Dospělí</label>
              <input type="number" id="adults" name="adults" value="0" min="0" required />
            </div>
          </div>

          <div class="form-column">
            <div class="form-group">
              <label for="children" data-i18n="reservation.children">Děti</label>
              <input type="number" id="children" name="children" value="0" min="0" />
            </div>
          </div>
        </div>

        <div class="form-row">
          <div class="form-column">
            <div class="form-group">
              <label for="arrival" data-i18n="reservation.arrival">Příjezd</label>
              <input type="date" id="arrival" name="arrival" required />
            </div>
          </div>

          <div class="form-column">
            <div class="form-group">
              <label for="departure" data-i18n="reservation.departure">Odjezd</label>
              <input type="date" id="departure" name="departure" required />
            </div>
          </div>
        </div>
        
        <div class="form-group">
          <label for="room" data-i18n="reservation.room">Pokoj</label>
          <select id="room" name="room" required>
            <option value="" disabled selected data-i18n="reservation.select_room">-- Vyberte pokoj --</option>
            <option value="1" data-i18n="rooms.room1">Pokoj č.1</option>
            <option value="2" data-i18n="rooms.room2">Pokoj č.2</option>
            <option value="3" data-i18n="rooms.room3">Pokoj č.3</option>
            <option value="4" data-i18n="rooms.room4">Pokoj č.4</option>
            <option value="5" data-i18n="rooms.room5">Pokoj č.5</option>
            <option value="6" data-i18n="rooms.room6">Pokoj č.6</option>
            <option value="7" data-i18n="rooms.room7">Pokoj č.7</option>
            <option value="apartment-67" data-i18n="rooms.apartment67">Apartmán 67</option>
            <option value="apartment-68" data-i18n="rooms.apartment68">Apartmán 68</option>
          </select>
        </div>

        <div class="form-group">
          <label for="message" data-i18n="reservation.message">Vaše zpráva</label>
          <textarea id="message" name="message" rows="4"></textarea>
        </div>

        <div class="privacy-notice">
          <p>
            <span data-i18n="reservation.privacy_notice">Prosíme, přečtěte si naše</span>
            <a href="ochrana-osobnich-udaju.html" class="underline" data-i18n="reservation.privacy_policy">
              Prohlášení o ochraně osobních údajů</a>.
          </p>
        </div>

        <div class="consent-group">
          <label for="consent" data-i18n="reservation.consent_text">
            Přečetl jsem si a souhlasím se zpracováním osobních údajů
          </label>
          <input type="checkbox" id="consent" name="consent" required />
          <span style="margin-left: 5px;">*</span>
        </div>

        <!-- <div class="g-recaptcha" data-sitekey="6LeIxAcTAAAAAJcZVRqyHh71UMIEGNQ_MXjiZKhI"></div>
        <div class="captcha-error" style="color: red; margin-top: 10px; display: none;" data-i18n="reservation.captcha_error">Please complete the captcha</div> -->

        <button type="submit" class="submit-button" data-i18n="reservation.submit">
          Odeslat
        </button>
      </form>
    </section>

    <div id="footer"></div>
  </main>
</body>

</html>